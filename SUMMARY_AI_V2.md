# –†–µ–∑—é–º–µ: –£–ª—É—á—à–µ–Ω–∏–µ AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ V2.0

## üéØ –¶–µ–ª–∏ (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

‚úÖ –ü–æ–≤—ã—Å–∏—Ç—å ¬´–ø–ª–æ—Ç–Ω–æ—Å—Ç—å¬ª –∏ –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–æ–≤  
‚úÖ –ñ—ë—Å—Ç–∫–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏ –æ–±—ä—ë–º—É  
‚úÖ –î–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ (draft ‚Üí refine)  
‚úÖ –ü–æ—Å—Ç-–ª–∏–Ω—Ç–µ—Ä –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ  
‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API  

## üì¶ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**src/ai/services/ai-prompt.service.ts** (–Ω–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä: ~650 —Å—Ç—Ä–æ–∫)
- ‚ú® –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `ContentPlan`, `MustCover`
- ‚ú® –ú–µ—Ç–æ–¥ `generateContentPlan(length)` - —Ä–∞—Å—á—ë—Ç —Ü–µ–ª–µ–≤—ã—Ö –æ–±—ä—ë–º–æ–≤ –¥–ª—è 5 —Å–µ–∫—Ü–∏–π
- ‚ú® –ú–µ—Ç–æ–¥ `generateMustCover(listing, lang)` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤
- ‚ú® –ú–µ—Ç–æ–¥ `buildRefinePrompt(...)` - –ø—Ä–æ–º–ø—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∞
- üîÑ –û–±–Ω–æ–≤–ª—ë–Ω `buildSystemPrompt()` - –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç—å –∏ –ø–ª–æ—Ç–Ω–æ—Å—Ç—å
- üîÑ –û–±–Ω–æ–≤–ª—ë–Ω `buildDeveloperPrompt()` - –∂—ë—Å—Ç–∫–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- üîÑ –û–±–Ω–æ–≤–ª—ë–Ω `buildUserPrompt()` - –ø–µ—Ä–µ–¥–∞—á–∞ contentPlan, mustCover –∏ few-shot
- ‚ú® –ú–µ—Ç–æ–¥ `getFewShotExample(lang)` - –ø—Ä–∏–º–µ—Ä—ã –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π

**src/ai/services/ai-openai.service.ts**
- üîÑ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ChatCompletionRequest` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è temperature, maxTokens, frequencyPenalty, topP
- üîÑ –ú–µ—Ç–æ–¥ `createChatCompletion()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –¥–µ—Ñ–æ–ª—Ç–∞–º–∏

**src/ai/services/ai-draft.service.ts** (–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω ~390 —Å—Ç—Ä–æ–∫)
- ‚ú® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `QualityMetrics` - –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ‚ú® Constructor - –∏–Ω—ä–µ–∫—Ü–∏—è ConfigService, —á—Ç–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ refine
- üîÑ –ú–µ—Ç–æ–¥ `generateDraft()` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω:
  - –î–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (draft ‚Üí –æ—Ü–µ–Ω–∫–∞ ‚Üí refine –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å contentPlan –∏ mustCover
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚ú® –ú–µ—Ç–æ–¥ `refineDraft()` - –≤—Ç–æ—Ä–æ–π –ø—Ä–æ—Ö–æ–¥ —É–ª—É—á—à–µ–Ω–∏—è
- ‚ú® –ú–µ—Ç–æ–¥ `parseAndValidateDraft()` - –ø–∞—Ä—Å–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è JSON
- ‚ú® –ú–µ—Ç–æ–¥ `assessQuality()` - –ø–æ—Å—Ç-–ª–∏–Ω—Ç–µ—Ä –∫–∞—á–µ—Å—Ç–≤–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (5 –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è mustCover
  - –†–∞—Å—á—ë—Ç coverage score (0.0-1.0)
- ‚ú® –ú–µ—Ç–æ–¥ `extractSearchTerms()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ —Ç–µ–∫—Å—Ç–µ
- üîÑ –ú–µ—Ç–æ–¥ `sanitizeContent()` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–∞–Ω–∏—Ç–∞–π–∑–µ—Ä:
  - –ë–æ–ª—å—à–µ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ (–¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏—è, –≥–∞—Ä–∞–Ω—Ç–∏–∏, —Å—É–ø–µ—Ä–ª–∞—Ç–∏–≤—ã)
  - –õ–∏–º–∏—Ç—ã –¥–ª–∏–Ω—ã (title ‚â§100, summary –ø–æ length, meta 120-160)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è highlights (3-10 —Å–ª–æ–≤)
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è keywords (–º–∞–∫—Å 8)

**src/ai/ai.config.ts**
- ‚ú® `refineEnabled` - —Ñ–ª–∞–≥ –≤–∫–ª—é—á–µ–Ω–∏—è –¥–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ‚ú® `qualityThreshold` - –ø–æ—Ä–æ–≥ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ refine (default: 0.7)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**AI_CONTENT_GENERATION.md** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã
- Troubleshooting

**MIGRATION_AI_V2.md** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- –®–∞–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è DevOps
- Backwards compatibility
- Rollback –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- FAQ

**AI_TESTING_GUIDE.md** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
- –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º
- CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**env.example**
- ‚ú® `AI_REFINE_ENABLED` - –≤–∫–ª—é—á–µ–Ω–∏–µ –¥–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ‚ú® `AI_QUALITY_THRESHOLD` - –ø–æ—Ä–æ–≥ –∫–∞—á–µ—Å—Ç–≤–∞

## üé® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω (Content Plan)

Description —Ç–µ–ø–µ—Ä—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ —Å—Ç—Ä–æ–≥–æ–º—É –ø–ª–∞–Ω—É –∏–∑ 5 –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤:

| –°–µ–∫—Ü–∏—è | Short | Medium | Long | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ |
|--------|-------|--------|------|------------|
| Intro | 30 | 60 | 90 | Hook + overview |
| Interni | 50 | 90 | 130 | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞ |
| Esterni | 40 | 70 | 100 | –ë–∞–ª–∫–æ–Ω—ã, –≤–Ω–µ—à–Ω–∏–µ –∑–æ–Ω—ã, —É—Å–ª—É–≥–∏ |
| Zona | 50 | 80 | 110 | –†–∞–π–æ–Ω, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, POI |
| Termini | 30 | 50 | 70 | –¶–µ–Ω–∞, –ø–ª–∞—Ç–µ–∂–∏, —É—Å–ª–æ–≤–∏—è |
| **–í—Å–µ–≥–æ** | **200** | **350** | **500** | |

### 2. Must Cover - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —á—Ç–æ –î–û–õ–ñ–ù–û –±—ã—Ç—å —É–ø–æ–º—è–Ω—É—Ç–æ:

**Required (–µ—Å–ª–∏ –≤ –¥–∞–Ω–Ω—ã—Ö):**
- –ì–æ—Ä–æ–¥/—Ä–∞–π–æ–Ω
- –ü–ª–æ—â–∞–¥—å m¬≤
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∫–∞ (–∫–æ–º–Ω–∞—Ç—ã/—Å–ø–∞–ª—å–Ω–∏/—Å–∞–Ω—É–∑–ª—ã)
- –≠—Ç–∞–∂/–ª–∏—Ñ—Ç

**Optional (–µ—Å–ª–∏ –≤ –¥–∞–Ω–Ω—ã—Ö):**
- –ë–∞–ª–∫–æ–Ω/—Ç–µ—Ä—Ä–∞—Å–∞ —Å —Ä–∞–∑–º–µ—Ä–æ–º
- –û—Ç–æ–ø–ª–µ–Ω–∏–µ
- –≠–Ω–µ—Ä–≥–æ–∫–ª–∞—Å—Å
- –†–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ POI
- –ö–æ–Ω–¥–æ-–ø–ª–∞—Ç–µ–∂–∏

### 3. –î–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Draft   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Assess   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Refine ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Sanitize ‚îÇ
‚îÇ Pass    ‚îÇ     ‚îÇ Quality  ‚îÇ     ‚îÇ Pass   ‚îÇ     ‚îÇ          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ                              ‚îÇ
                     ‚îÇ coverage < 0.7?              ‚îÇ
                     ‚îÇ Yes ‚Üí Refine                 ‚îÇ
                     ‚îÇ No  ‚Üí Skip                   ‚ñº
                     ‚îÇ                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Output ‚îÇ
                                                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 4. –ü–æ—Å—Ç-–ª–∏–Ω—Ç–µ—Ä –∫–∞—á–µ—Å—Ç–≤–∞

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞: 5 –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤  
‚úÖ Highlights: 5-7 —ç–ª–µ–º–µ–Ω—Ç–æ–≤, 3-10 —Å–ª–æ–≤ –∫–∞–∂–¥—ã–π  
‚úÖ Coverage: % —É–ø–æ–º—è–Ω—É—Ç—ã—Ö mustCover —ç–ª–µ–º–µ–Ω—Ç–æ–≤  
‚úÖ SEO: 5-8 keywords, 120-160 chars meta  

**Coverage Score:**
- 0.9+ : –û—Ç–ª–∏—á–Ω–æ
- 0.7-0.9 : –•–æ—Ä–æ—à–æ
- 0.5-0.7 : –°—Ä–µ–¥–Ω–µ ‚Üí refine
- <0.5 : –ü–ª–æ—Ö–æ ‚Üí refine + warn

### 5. Few-Shot –æ–±—É—á–µ–Ω–∏–µ

–í—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–∞ IT/RU/EN, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–µ:
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–∫—Ç—ã –≤–º–µ—Å—Ç–æ –æ–±—â–∏—Ö —Ñ—Ä–∞–∑
- –ü—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–ª–æ—Ç–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç highlights

### 6. –£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∞–Ω–∏—Ç–∞–π–∑–µ—Ä

**–£–¥–∞–ª—è–µ—Ç:**
- –î–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏—è: "solo italiani", "no stranieri", "—Ç–æ–ª—å–∫–æ –¥–ª—è –º–µ—Å—Ç–Ω—ã—Ö"
- –ì–∞—Ä–∞–Ω—Ç–∏–∏: "garantito", "100% safe", "–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ"
- –°—É–ø–µ—Ä–ª–∞—Ç–∏–≤—ã: "il migliore", "—Å–∞–º—ã–π –∫—Ä–∞—Å–∏–≤—ã–π", "the best"
- –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã: "terapeutico", "—Ü–µ–ª–µ–±–Ω—ã–π"

**–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç:**
- Title: –º–∞–∫—Å 100 —Å–∏–º–≤–æ–ª–æ–≤
- Summary: 80-250 —Å–ª–æ–≤ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç length)
- Highlights: 3-10 —Å–ª–æ–≤, –º–∞–∫—Å 7
- Keywords: –º–∞–∫—Å 8
- MetaDescription: 120-160 —Å–∏–º–≤–æ–ª–æ–≤

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ë–µ–∑ refine (AI_REFINE_ENABLED=false)

- ‚è±Ô∏è –í—Ä–µ–º—è: 2-5 —Å–µ–∫
- üí∞ –¢–æ–∫–µ–Ω—ã: 500-1500
- üéØ –ö–∞—á–µ—Å—Ç–≤–æ: 0.6-0.8 (—Å—Ä–µ–¥–Ω–µ–µ)

### –° refine (AI_REFINE_ENABLED=true)

- ‚è±Ô∏è –í—Ä–µ–º—è: 4-10 —Å–µ–∫
- üí∞ –¢–æ–∫–µ–Ω—ã: 1000-3000
- üéØ –ö–∞—á–µ—Å—Ç–≤–æ: 0.75-0.95 (—Å—Ä–µ–¥–Ω–µ–µ)

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**Production (–∫–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏):**
```bash
AI_REFINE_ENABLED=true
AI_QUALITY_THRESHOLD=0.7
OPENAI_MODEL=gpt-4o-mini
```

**Development (—Å–∫–æ—Ä–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ):**
```bash
AI_REFINE_ENABLED=false
AI_QUALITY_THRESHOLD=0.5
OPENAI_MODEL=gpt-4o-mini
```

**Premium (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ):**
```bash
AI_REFINE_ENABLED=true
AI_QUALITY_THRESHOLD=0.8
OPENAI_MODEL=gpt-4o
```

## ‚úÖ Acceptance Criteria (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

- [x] Description —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 5 –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤ –≤ –Ω—É–∂–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- [x] –ö–∞–∂–¥—ã–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ –≤ —Ä–∞–º–∫–∞—Ö —Ü–µ–ª–µ–≤–æ–≥–æ –æ–±—ä—ë–º–∞ ¬±10%
- [x] –ö–∞–∂–¥—ã–π –ø–∞—Ä–∞–≥—Ä–∞—Ñ —Å–æ–¥–µ—Ä–∂–∏—Ç ‚â•2 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∞–∫—Ç–∞
- [x] Highlights: 5-7 —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–∞–∂–¥—ã–π 3-10 —Å–ª–æ–≤
- [x] –ù–µ—Ç –æ–±—â–∏—Ö —Ñ—Ä–∞–∑ ("ottima posizione"), —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∞
- [x] SEO keywords: 5-8 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- [x] SEO metaDescription: 120-160 —Å–∏–º–≤–æ–ª–æ–≤
- [x] –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–æ–ª–µ–π –≤ JSON
- [x] JSON –≤–∞–ª–∏–¥–Ω—ã–π –∏ –ø–∞—Ä—Å–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –î–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [x] –ü–æ—Å—Ç-–ª–∏–Ω—Ç–µ—Ä –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ
- [x] –°–∞–Ω–∏—Ç–∞–π–∑–µ—Ä —É–¥–∞–ª—è–µ—Ç –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
- [x] Backwards compatible API
- [x] –ö–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è

## üöÄ –î–µ–ø–ª–æ–π

### 1. –õ–æ–∫–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç

```bash
npm install
npm run build
npm run start:dev
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
POST http://localhost:4000/api/v1/listings/{id}/generate-draft
{
  "locale": "it-IT",
  "tone": "professionale",
  "length": "medium"
}
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
```
[AiDraftService] Draft quality metrics { coverageScore: 0.85, ... }
[AiDraftService] AI draft generated successfully { finalCoverageScore: 0.85 }
```

### 3. Production –¥–µ–ø–ª–æ–π

```bash
# –û–±–Ω–æ–≤–∏—Ç—å .env
AI_REFINE_ENABLED=true
AI_QUALITY_THRESHOLD=0.7

# Build –∏ –¥–µ–ø–ª–æ–π
npm run build
pm2 restart ai-realtor-backend
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–ª–µ—Ä—Ç—ã:

‚ö†Ô∏è Average coverage score < 0.6 (–ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å)  
‚ö†Ô∏è > 80% –∑–∞–ø—Ä–æ—Å–æ–≤ —Ç—Ä–µ–±—É—é—Ç refine  
‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ > 15 —Å–µ–∫  
‚ö†Ô∏è Error rate > 2%  

## üéì –û–±—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º:**
- –ü—Ä–æ—á–∏—Ç–∞—Ç—å `AI_CONTENT_GENERATION.md`
- –ò–∑—É—á–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤ –∫–æ–¥–µ

**QA:**
- –ü—Ä–æ—á–∏—Ç–∞—Ç—å `AI_TESTING_GUIDE.md`
- –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**DevOps:**
- –ü—Ä–æ—á–∏—Ç–∞—Ç—å `MIGRATION_AI_V2.md`
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (Backlog)

- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ö–æ–∂–∏—Ö –ª–∏—Å—Ç–∏–Ω–≥–æ–≤
- [ ] –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∞–≥–µ–Ω—Ç—Å—Ç–≤—É
- [ ] Plagiarism checker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- [ ] Feedback loop –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] Multilingual fallback chain
- [ ] Real-time –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ –¥–æ–≤–µ—Ä–∏–µ! –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

---

**–í–µ—Ä—Å–∏—è:** 2.0.0  
**–î–∞—Ç–∞:** 7 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Ready for Production  
**Backwards Compatible:** ‚úÖ –î–∞  

